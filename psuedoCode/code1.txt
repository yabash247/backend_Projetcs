

FUNCTION get_queryset():
    # Validate company and farm from the request
    company, farm = validate_company_and_farm(request)

    # Check if the user has permission to view staff members in this farm
    IF NOT has_permission(user, company, "catFishFarm", "StaffMember", "view"):
        RAISE PermissionDenied("User does not have permission to view staff members.")

    # Query staff members linked to the given company and farm
    SET queryset TO StaffMember.objects.filter(company=company, farm=farm)


    RETURN get_staff_with_associated_data(queryset, company, farm)
